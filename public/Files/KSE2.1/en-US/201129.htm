<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="description" content=""/>
    <meta name="viewport" content="maximum-scale=1.0" />
    <title> ICAPSettings </title>
	<!-- Google Tag Manager -->
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-MPK6ZG');</script>
	<!-- End Google Tag Manager -->
    <script type="text/javascript" src="../langs.js"></script>
    <script type="text/javascript">
        !function ( w, d ) {
            var scriptsPath="/localization/";
            if(w.location.pathname.match(/title\.htm$/)){scriptsPath="./js/"}d.writeln("\x3Cscript type='text/javascript' src='"+scriptsPath+d.documentElement.lang+".js'>\x3C/script>");
        }( window, document );
    </script>	
    <script type="text/javascript" src="toc.js"></script>
    
    <script type="text/javascript" src="aiconverter_result.js"></script>
    <link rel="stylesheet" type='text/css' href="typography.css"/>
    <link rel="stylesheet" type='text/css' href="styles.css"/>
    <link rel="shortcut icon" href="favicon.ico"/>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon"/>
    <link rel="icon" href="favicon.png" type="image/png"/>

            <!--[if lte IE 9]>
                <link rel="stylesheet" type="text/css" href="bootstrap.css">
            <![endif]-->
            <!--[if lte IE 8]>
                <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
                <script src="https://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.js"></script>
            <![endif]-->
            </head>

<body id="who-content" class="no-js">
	<!-- Google Tag Manager (noscript) -->
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MPK6ZG" style="display:none;visibility:hidden"></iframe></noscript>
	<!-- End Google Tag Manager (noscript) -->
	<noscript class="no-js__message">
	<a href="https://support.microsoft.com/en-us/kb/3135465" class="no-js__link">Please enable JavaScript in your browser!</a>
	</noscript>
	<div class="cont">
	<h4 id="t234388" class="heading4">ICAPSettings</h4>
<p class="bodytext">Specifies ICAP settings for Kaspersky Scan Engine.</p>
<p class="introheading">Path</p>
<p class="bodytext"><code class="programcharacter">ICAPSettings</code></p>
<p class="introheading">Attributes</p>
<p class="bodytext">This element has no attributes.</p>
<p class="spacer"></p>
<p class="spacer"></p>
<p class="introheading">Nested elements</p>
<p class="bodytext">This element is a container for the following nested elements:</p>
<ul class="listbullet1"><li class="listbullet1"><a id="h201195" class="englishcrossreferencetemplate" href="200716.htm" target="_self">Port</a></li><li class="listbullet1"><a id="h207258" class="englishcrossreferencetemplate" href="207194.htm" target="_self">ReqModeAddress</a></li><li class="listbullet1"><a id="h207259" class="englishcrossreferencetemplate" href="207240.htm" target="_self">RespModeAddress</a></li><li class="listbullet1"><a id="h201196" class="englishcrossreferencetemplate" href="200717.htm" target="_self">MaxIcapSessionsCount</a></li><li class="listbullet1"><a id="h201197" class="englishcrossreferencetemplate" href="201149.htm" target="_self">RAMUsageLimit</a></li><li class="listbullet1"><a id="h201198" class="englishcrossreferencetemplate" href="200719.htm" target="_self">ScanMaxFileSize</a></li><li class="listbullet1"><a id="h201199" class="englishcrossreferencetemplate" href="200720.htm" target="_self">Allow204</a></li><li class="listbullet1"><a id="h207296" class="englishcrossreferencetemplate" href="207291.htm" target="_self">KeepAliveSettings</a></li><li class="listbullet1"><a id="h225224" class="englishcrossreferencetemplate" href="225221.htm" target="_self">RequestingICAPHeaders</a></li><li class="listbullet1"><a id="h201206" class="englishcrossreferencetemplate" href="200726.htm" target="_self">HTTPClientIpICAPHeader</a></li><li class="listbullet1"><a id="h201207" class="englishcrossreferencetemplate" href="200727.htm" target="_self">HTTPUserNameICAPHeader</a></li><li class="listbullet1"><a id="h201215" class="englishcrossreferencetemplate" href="201214.htm" target="_self">VirusNameICAPHeader</a></li><li class="listbullet1"><a id="h225157" class="englishcrossreferencetemplate" href="225156.htm" target="_self">DatabaseVersionICAPHeader</a></li><li class="listbullet1"><a id="h224483" class="englishcrossreferencetemplate" href="221147.htm" target="_self">SendInfectionFoundICAPHeader</a></li><li class="listbullet1"><a id="h224486" class="englishcrossreferencetemplate" href="221160.htm" target="_self">SendResponseDescICAPHeader</a></li><li class="listbullet1"><a id="h224484" class="englishcrossreferencetemplate" href="221161.htm" target="_self">SendResponseInfoICAPHeader</a></li><li class="listbullet1"><a id="h224485" class="englishcrossreferencetemplate" href="221162.htm" target="_self">SendViolationsFoundICAPHeader</a></li><li class="listbullet1"><a id="h201200" class="englishcrossreferencetemplate" href="200721.htm" target="_self">ScanInReqMode</a></li><li class="listbullet1"><a id="h201202" class="englishcrossreferencetemplate" href="200722.htm" target="_self">ScanInRespMode</a></li><li class="listbullet1"><a id="h201203" class="englishcrossreferencetemplate" href="201153.htm" target="_self">RulesFilePath</a></li><li class="listbullet1"><a id="h201204" class="englishcrossreferencetemplate" href="201154.htm" target="_self">CmdPath</a></li><li class="listbullet1"><a id="h201205" class="englishcrossreferencetemplate" href="201155.htm" target="_self">ResponsesPath</a></li><li class="listbullet1"><a id="h201209" class="englishcrossreferencetemplate" href="201208.htm" target="_self">TransferBeforeScanEnding</a></li><li class="listbullet1"><a id="h201210" class="englishcrossreferencetemplate" href="200729.htm" target="_self">Exclusions</a></li><li class="listbullet1"><a id="h201212" class="englishcrossreferencetemplate" href="201163.htm" target="_self">USR1SignalAction</a></li><li class="listbullet1"><a id="h201213" class="englishcrossreferencetemplate" href="201164.htm" target="_self">USR2SignalAction</a></li><li class="listbullet1"><a id="h201211" class="englishcrossreferencetemplate" href="200730.htm" target="_self">LoggingConfigFilePath</a></li></ul><p class="introheading">Example</p>
<p class="bodytext">The following is an example of an <em class="emphasischaracter">ICAPSettings</em> element.</p>
<table class="tableintopic" width="726" cellpadding="2" cellspacing="0" border="0" style="border-collapse:collapse" bgcolor="#E5F1FB">
<tr align="left" valign="top">
<td bgcolor="#E5F1FB" width="726"><p class="program">&lt;ICAPSettings&gt;</p>
<p class="program2">&lt;Port&gt;1344&lt;/Port&gt;</p>
<p class="program2">&lt;ReqModeAddress&gt;req&lt;/ReqModeAddress&gt;</p>
<p class="program2">&lt;RespModeAddress&gt;resp&lt;/RespModeAddress&gt;</p>
<p class="program2">&lt;MaxIcapSessionsCount&gt;100&lt;/MaxIcapSessionsCount&gt;</p>
<p class="program2">&lt;ScanMaxFileSize&gt;0&lt;/ScanMaxFileSize&gt; &lt;!-- 0 = unlimited --&gt;</p>
<p class="program2">&lt;RAMUsageLimit&gt;0&lt;/RAMUsageLimit&gt; &lt;!-- 0 = unlimited --&gt;</p>
<p class="program2">&lt;Allow204&gt;0&lt;/Allow204&gt;</p>
<p class="program2">&lt;KeepAliveSettings&gt;&lt;!-- Support for processing multiple requests during one connection --&gt;</p>
<p class="program3">&lt;Enabled&gt;1&lt;/Enabled&gt;</p>
<p class="program3">&lt;TimeoutMs&gt;5000&lt;/TimeoutMs&gt;</p>
<p class="program3">&lt;MaxRequests&gt;1000&lt;/MaxRequests&gt;</p>
<p class="program2">&lt;/KeepAliveSettings&gt;</p>
<p class="program2">&lt;RequestingICAPHeaders&gt;</p>
<p class="program3">&lt;ICAPHeader&gt;HTTPUserNameICAPHeader&lt;/ICAPHeader&gt;</p>
<p class="program3">&lt;ICAPHeader&gt;HTTPClientIpICAPHeader&lt;/ICAPHeader&gt;</p>
<p class="program2">&lt;/RequestingICAPHeaders&gt;</p>
<p class="program2">&lt;HTTPClientIpICAPHeader&gt;X-Client-IP&lt;/HTTPClientIpICAPHeader&gt;</p>
<p class="program2">&lt;HTTPUserNameICAPHeader&gt;X-Client-Username&lt;/HTTPUserNameICAPHeader&gt;</p>
<p class="program2">&lt;VirusNameICAPHeader&gt;&lt;/VirusNameICAPHeader&gt;</p>
<p class="program2">&lt;DatabaseVersionICAPHeader&gt;X-AV-Database-time&lt;/DatabaseVersionICAPHeader&gt;</p>
<p class="program2">&lt;SendInfectionFoundICAPHeader&gt;0&lt;/SendInfectionFoundICAPHeader&gt;</p>
<p class="program2">&lt;SendResponseDescICAPHeader&gt;0&lt;/SendResponseDescICAPHeader&gt;</p>
<p class="program2">&lt;SendResponseInfoICAPHeader&gt;0&lt;/SendResponseInfoICAPHeader&gt;</p>
<p class="program2">&lt;SendViolationsFoundICAPHeader&gt;0&lt;/SendViolationsFoundICAPHeader&gt;</p>
<p class="program2">&lt;ScanInReqMode&gt;All&lt;/ScanInReqMode&gt;</p>
<p class="program2">&lt;ScanInRespMode&gt;Content&lt;/ScanInRespMode&gt;</p>
<p class="program2">&lt;RulesFilePath&gt;/opt/kaspersky/ScanEngine/icap_data/kavicapd_gui_rules.conf&lt;/RulesFilePath&gt;</p>
<p class="program2">&lt;CmdPath&gt;/opt/kaspersky/ScanEngine/icap_data/scripts&lt;/CmdPath&gt;</p>
<p class="program2">&lt;ResponsesPath&gt;/opt/kaspersky/ScanEngine/icap_data/templates&lt;/ResponsesPath&gt;</p>
<p class="program2">&lt;TransferBeforeScanEnding Delay=&quot;10&quot; ChunkSize=&quot;4&quot; BlockedUrlCacheEnabled=&quot;1&quot; BlockedUrlCacheKb=&quot;5000&quot; BlockedUrlCacheTtlSec=&quot;1800&quot;&gt;0&lt;/TransferBeforeScanEnding&gt;</p>
<p class="program2">&lt;Exclusions&gt;</p>
<p class="program2">&lt;!-- Signs of highly likely uninfected resources. --&gt;</p>
<p class="program2">&lt;!-- Note: ContentSize - more or equal (use only once), ContentType - as is, RequestURL - masks can be used --&gt;</p>
<p class="program2">&lt;!--</p>
<p class="program3">&lt;ContentSize&gt;102400&lt;/ContentSize&gt;</p>
<p class="program3">&lt;ContentType&gt;audio/mpeg&lt;/ContentType&gt;</p>
<p class="program3">&lt;ContentType&gt;image/jpeg&lt;/ContentType&gt;</p>
<p class="program3">&lt;RequestURL&gt;*.kaspersky.com/.*&lt;/RequestURL&gt;</p>
<p class="program">	--&gt;</p>
<p class="program2">&lt;/Exclusions&gt;</p>
<p class="program2">&lt;!-- Possible values: update, reload, reopen-log (reopens syslog format log files) --&gt;</p>
<p class="program2">&lt;USR1SignalAction&gt;update&lt;/USR1SignalAction&gt; </p>
<p class="program2">&lt;USR2SignalAction&gt;reopen-log&lt;/USR2SignalAction&gt;</p>
<p class="program2">&lt;!-- The path to the logging configuration file. Only this file will be used as the ICAP logging configuration file. If the LoggingConfigFilePath element has the empty value, the icapdkavlog.conf file located in the kavicapd binary file directory is used. --&gt;</p>
<p class="program2">&lt;LoggingConfigFilePath&gt;&lt;/LoggingConfigFilePath&gt;</p>
<p class="program">&lt;/ICAPSettings&gt;</p>
</td>
</tr>

</table>
<p class="spacer"></p>


	<a href="#" class="bt-home">Page top</a>
	</div>
</body>

</html>
