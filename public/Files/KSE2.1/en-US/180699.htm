<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="description" content=""/>
    <meta name="viewport" content="maximum-scale=1.0" />
    <title> Manual uninstallation (Linux) </title>
	<!-- Google Tag Manager -->
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-MPK6ZG');</script>
	<!-- End Google Tag Manager -->
    <script type="text/javascript" src="../langs.js"></script>
    <script type="text/javascript">
        !function ( w, d ) {
            var scriptsPath="/localization/";
            if(w.location.pathname.match(/title\.htm$/)){scriptsPath="./js/"}d.writeln("\x3Cscript type='text/javascript' src='"+scriptsPath+d.documentElement.lang+".js'>\x3C/script>");
        }( window, document );
    </script>	
    <script type="text/javascript" src="toc.js"></script>
    
    <script type="text/javascript" src="aiconverter_result.js"></script>
    <link rel="stylesheet" type='text/css' href="typography.css"/>
    <link rel="stylesheet" type='text/css' href="styles.css"/>
    <link rel="shortcut icon" href="favicon.ico"/>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon"/>
    <link rel="icon" href="favicon.png" type="image/png"/>

            <!--[if lte IE 9]>
                <link rel="stylesheet" type="text/css" href="bootstrap.css">
            <![endif]-->
            <!--[if lte IE 8]>
                <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
                <script src="https://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.js"></script>
            <![endif]-->
            </head>

<body id="who-content" class="no-js">
	<!-- Google Tag Manager (noscript) -->
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MPK6ZG" style="display:none;visibility:hidden"></iframe></noscript>
	<!-- End Google Tag Manager (noscript) -->
	<noscript class="no-js__message">
	<a href="https://support.microsoft.com/en-us/kb/3135465" class="no-js__link">Please enable JavaScript in your browser!</a>
	</noscript>
	<div class="cont">
	<h3 id="t234443" class="heading3">Manual uninstallation (Linux)</h3>
<p class="bodytext">This section describes how to manually uninstall Kaspersky Scan Engine.</p>
<p class="introheading">Manually uninstalling Kaspersky Scan Engine 2.1 and later</p>
<p class="procedureheading">To manually uninstall Kaspersky Scan Engine 2.1 and later:</p>
<ol class="listnumber1"><li class="listnumber1">Make sure you have root (administrator) privileges.</li><li class="listnumber1">Stop Kaspersky Scan Engine:<ul class="listbullet2"><li class="listbullet2">If you used Kaspersky Scan Engine in ICAP mode, run this command:<p class="listcontinue2"><code class="programcharacter">service kavicapd stop</code></p>
</li><li class="listbullet2">If you used Kaspersky Scan Engine in HTTP mode, run this command:<p class="listcontinue2"><code class="programcharacter">service kavhttpd stop</code></p>
</li><li class="listbullet2">If you used Kaspersky Scan Engine GUI, run this command:<p class="listcontinue2">s<code class="programcharacter">ervice klScanEngineUI stop</code></p>
</li></ul></li><li class="listnumber1">Remove Kaspersky Scan Engine from the list of system services:<ul class="listbullet2"><li class="listbullet2">If you used Kaspersky Scan Engine in ICAP mode, run this command:<p class="listcontinue2"><code class="programcharacter">systemctl disable kavicapd</code></p>
</li><li class="listbullet2">If you used Kaspersky Scan Engine in HTTP mode, run this command:<p class="listcontinue2"><code class="programcharacter">systemctl disable kavhttpd</code></p>
</li><li class="listbullet2">If you used Kaspersky Scan Engine GUI, run this command:<p class="listcontinue2"><code class="programcharacter">systemctl disable klScanEngineUI</code></p>
</li></ul></li><li class="listnumber1">Delete symbolic links to Kaspersky Scan Engine configuration files:<ul class="listbullet2"><li class="listbullet2">If you used Kaspersky Scan Engine in ICAP mode, run this command:<p class="listcontinue2"><code class="programcharacter">rm /etc/kavicapd.xml</code></p>
</li><li class="listbullet2">If you used Kaspersky Scan Engine in HTTP mode, run this command:<p class="listcontinue2"><code class="programcharacter">rm /etc/kavhttpd.xml</code></p>
</li><li class="listbullet2">If you used Kaspersky Scan Engine GUI, run this command:<p class="listcontinue2"><code class="programcharacter">rm /etc/klScanEngineUI.xml</code></p>
</li></ul></li><li class="listnumber1">If you used Kaspersky Scan Engine GUI, open the PostgreSQL database, and then delete the <code class="programcharacter">kavebase</code> database and the database user.<p class="attentioncontinue1">Skip this step if you want to use the database later or if the Kaspersky Scan Engine instance you are uninstalling is part of a cluster containing other instances.</p>
<p class="listcontinue1">To delete the <code class="programcharacter">kavebase</code> database, run the following command:</p>
<p class="listcontinue1"><code class="programcharacter">DROP DATABASE kavebase;</code></p>
<p class="listcontinue1">To delete the database user, run the following command:  </p>
<p class="listcontinue1"><code class="programcharacter">DROP ROLE %user_name%;</code></p>
<p class="listcontinue1">where <code class="programcharacter">%user_name%</code> is the name of the database user created during Kaspersky Scan Engine installation.</p>
<p class="listcontinue1">For example, to delete the default <code class="programcharacter">scanengine</code> database user, run the following command:  </p>
<p class="listcontinue1"><code class="programcharacter">DROP ROLE scanengine;</code></p>
<p class="attentioncontinue1">Only the superuser can delete a database and its user.</p>
</li><li class="listnumber1">Remove the <code class="programcharacter">/opt/kaspersky/ScanEngine</code> directory:<p class="listcontinue1"><code class="programcharacter">rm &#8211;rf /opt/kaspersky/ScanEngine</code></p>
</li><li class="listnumber1">Remove the directory that contains temporary files used by Kaspersky Scan Engine:<p class="listcontinue1"><code class="programcharacter">rm &#8211;rf %temp_dir%</code></p>
<p class="listcontinue1">Here <code class="programcharacter">%temp_dir%</code> is the temporary directory.</p>
</li></ol><p class="introheading">Manually uninstalling Kaspersky Scan Engine 2.0</p>
<p class="procedureheading">To manually uninstall Kaspersky Scan Engine 2.0:</p>
<ol class="listnumber1"><li class="listnumber1">Make sure you have root (administrator) privileges.</li><li class="listnumber1">Stop Kaspersky Scan Engine:<ul class="listbullet2"><li class="listbullet2">If you use Kaspersky Scan Engine in ICAP mode, run this command:<p class="listcontinue2"><code class="programcharacter">/etc/init.d/kavicapd stop</code></p>
</li><li class="listbullet2">If you use Kaspersky Scan Engine in HTTP mode, run this command:<p class="listcontinue2"><code class="programcharacter">/etc/init.d/kavhttpd stop</code></p>
</li><li class="listbullet2">If you use Kaspersky Scan Engine GUI, run this command:<p class="listcontinue2"> <code class="programcharacter">/etc/init.d/klScanEngineUI stop</code></p>
</li></ul></li><li class="listnumber1">Remove the executable file and the configuration file:<ul class="listbullet2"><li class="listbullet2">If you use Kaspersky Scan Engine in ICAP mode, run this command:<p class="listcontinue2"><code class="programcharacter">rm /etc/init.d/kavicapd /etc/kavicapd.xml</code></p>
</li><li class="listbullet2">If you use Kaspersky Scan Engine in HTTP mode, run this command:<p class="listcontinue2"><code class="programcharacter">rm /etc/init.d/kavhttpd /etc/kavhttpd.xml</code></p>
</li><li class="listbullet2">If you use Kaspersky Scan Engine GUI, run this command:<p class="listcontinue2"><code class="programcharacter">rm /etc/init.d/klScanEngineUI /etc/klScanEngineUI.xml</code></p>
</li></ul></li><li class="listnumber1">If you used Kaspersky Scan Engine GUI, open the PostgreSQL database and  delete the <code class="programcharacter">kavebase</code> database and the database user.<p class="attentioncontinue1">Skip this step if you want to use the database later or if the Kaspersky Scan Engine instance you are uninstalling is part of a cluster containing other instances.</p>
<p class="listcontinue1">To delete the <code class="programcharacter">kavebase</code> database, run the following command:</p>
<p class="listcontinue1"><code class="programcharacter">DROP DATABASE kavebase;</code></p>
<p class="listcontinue1">To remove the <code class="programcharacter">scanengine</code> database user, run the following command:  </p>
<p class="listcontinue1"><code class="programcharacter">DROP ROLE scanengine;</code></p>
</li><li class="listnumber1">Remove the <code class="programcharacter">/opt/kaspersky/ScanEngine</code> directory:<p class="listcontinue1"><code class="programcharacter">rm &#8211;rf /opt/kaspersky/ScanEngine</code></p>
</li><li class="listnumber1">Remove the directory that contains temporary files used by Kaspersky Scan Engine:<p class="listcontinue1"><code class="programcharacter">rm &#8211;rf %temp_dir%</code></p>
<p class="listcontinue1">Here <code class="programcharacter">%temp_dir%</code> is the temporary directory.</p>
</li></ol>


	<a href="#" class="bt-home">Page top</a>
	</div>
</body>

</html>
